<!DOCTYPE HTML>
<html lang='en'>
<head>
	<meta content='text/html; charset=utf-8' http-equiv='content-type'>
	<meta content='Mel Bartels' name='author'>
	<meta content='Calculates pitch lap shape for parabolizing telescope primary mirror' name='description'>
	<meta content='initial-scale=1' name='viewport'>
	<title>Pitch Lap Calculator</title>
	<link rel='shortcut icon' href='Saucer32.ico'>
	<link rel='stylesheet' type='text/css' href='css/calc.css'>
</head>
<body>

<center><h2>Pitch Lap Calculator by Mel Bartels</h2></center>

<div class='pitchLapDivWithBorder'>
	<center><h3>Stroking</h3></center>

	<div class='pitchLapDiv'>
		<p><input name='btnPressure' value='MOT' type='radio' checked='checked'>MOT
		<input name='btnPressure' value='TOT' type='radio'>TOT
		<br>Tool to mirror size ratio <input class='inputTextNarrow' id='toolToMirrorSizeRatio' value='1' onfocus='select()' type='number' step='0.1' min='0.1'>
		<br>Presets:
		<input name='btnPreset' value='fullContact' type='radio'>full contact
		<input name='btnPreset' value='petalLap' type='radio' checked='checked'>petal lap
		<input name='btnPreset' value='reversePetalLap' type='radio'>reverse petal lap
		<br>Number of stars <input class='inputTextNarrow' id='stars' value='7' onfocus='select()' type='number' step='1' min='0'>
		<!-- &nbsp;&nbsp;pressure -->
		<input class='inputTextNarrow' id='pressure' value='0' onfocus='select()' type='number' step='1' min='0' style='display:none;'>
		<br><input name='btnStrokeMethod' value='straight' type='radio' checked='checked'>Straight stroke
		&nbsp;&nbsp;length <input class='inputTextNarrow' id='strokeLength' value='0.33' onfocus='select()' type='number' step='0.05' min='0.05' max='1.0'>
		offset <input class='inputTextNarrow' id='strokeOffset' value='0' onfocus='select()' type='number' step='0.05' min='0' max='1.0'>
		spin <input class='inputTextNarrow' id='bottomSpin' value='0' onfocus='select()' type='number' step='1' min='0'>
		<br><input name='btnStrokeMethod' value='w' type='radio'>W stroke
		&nbsp;&nbsp;overhang <input class='inputTextNarrow' id='wOverhang' value='0.2' onfocus='select()' type='number' step='0.05' min='0' max='1.0'>

		<table id='pitchLapParmTable'>
		<tbody id='pitchLapParmTableBody'>
			<!--zonal rows added in JavaScript-->
		</tbody>
		</table>

		<p><input ID='btnSortZones' value='Sort zones' type='button'>
		<input ID='btnUpdatePitchLap' value='Update graphs' type='button'>

		<div>
			<h4>Notes</h4>
			<ul>
				<li>MOT is Mirror On Top. TOT is Tool On Top.
				<li>Zones: 0=center, 1=edge; enter in any order.
				<li>Pressure is a relative number.
					<br>Zero means that MOT or TOT does not matter.
				<li>Stroke length is relative to mirror diameter.
					<br>For example, a 10 inch mirror with 0.2 stroke:
					<br>1 inch stroke up,
					<br>then 2 inches stroke down,
					<br>then 1 inch stroke up,
					<br>then returning to the starting position.
				<li>Offset and overhang are relative to mirror diameter.
					<br>For example, a 0.5 offset:
					<br>the upper piece is centered halfway between
					<br>the center and edge of the bottom piece.
			</ul>
		</div>
	</div>

	<div class='pitchLapDiv'>
		<center>
		<p>Pitch lap top view (black is pitch)
		<br><canvas class='pitchLapCanvas' id='pitchLapCanvas' width='300' height='300'></canvas>
		<p>Note: you can paste a helpful image

		<p>Relative polishing action on the mirror - side view
		<br><canvas class='polishingActionSideViewCanvas' id='polishingActionSideViewCanvas' width='300' height='75'></canvas>

		<br>Relative polishing action on the mirror - top view
		<br><canvas class='polishingActionTopViewCanvas' id='polishingActionTopViewCanvas' width='300' height='300'></canvas>
	</div>
</div>

<div class='pitchLapDivWithBorder'>
	<a name='spin'></a>
	<center><h3>Spinning</h3></center>

	<div class='pitchLapDiv'>
		<p>Rotational vector inspector.
		<br>Green is CW, red is CCW.

		<p>Tool rotation rate:
		<br><label id='toolRotationRatelabel' for=''></label>
		<br>or set a tool rotation rate of
		<input class='inputTextNarrow' id='spinToolRotation' value='' onfocus='select()' type='number' step='0.1'>

		<p>Friction
		<input class='inputTextNarrow' id='friction' value='4.5' onfocus='select()' type='number' step='0.25' min='1'>

		<p>Tool to mirror size ratio
		<input class='inputTextNarrow' id='spinToolToMirrorSizeRatio' value='0.75' onfocus='select()' type='number' step='0.05' min='0.1'>
		<br>Tool offset from mirror center <sup>1 </sup>
		<input class='inputTextNarrow' id='spinOffset' value='0.5' onfocus='select()' type='number' step='0.05' min='0' max='1.0'>
		<br><label id='toolOverhanglabel' for=''></label>

		<p>Use pitch lap contact pattern? <input id='chBoxUsePitchLapContact' type='checkbox'>
		<br><input id='btnFanPatternExample' value='An ultra-smooth fan shaped lap example' type='button'>

		<p><sup>1 </sup> % of mirror radius
		<br><sup>2 </sup> % of tool diameter

		<p><canvas class='spinRotationalVectorCanvas' id='spinRotationalVectorCanvas' width='300' height='300'></canvas>

		<br><br><br><br><br><br> <!-- to make bottom of left/right divs match up -->
	</div>

	<div class='pitchLapDiv'>
		<p>Relative polishing action on the mirror - side view
		<br><canvas class='spinPolishingActionSideViewCanvas' id='spinPolishingActionSideViewCanvas' width='300' height='75'></canvas>
		<br>Relative polishing action on the mirror - top view
		<br><canvas class='spinPolishingActionTopViewCanvas' id='spinPolishingActionTopViewCanvas' width='300' height='300'></canvas>
	</div>
</div>

<div class='pitchLapDivWithBorder'>
	<h3>Spinning notes</h3>

	<img src='lib\tool overhang study.jpg'>
	<hr>

	<p>Consider these three examples with the tool centered on the mirror. The tool matches the mirror's rotation in the first example, netting zero rotational action. In the second example the tool does not rotate at all, causing the mirror to generate a clockwise rotational vector. In the third example the tool spins faster than the mirror, causing counter-clockwise action.<br>
	<img src='lib/pitch lap calc examples.jpg'>

	<hr>
	<p>Here's how I work out the rotational vector (distinct from the polishing action:<br>
	<img src='lib/rotational vectors test example.jpg'>
</div>

<div class='pitchLapDiv'>
	<p>Created 2017, last updated 22 February, 2026
	<br><br>
</div>

</body>

<script src='lib/jquery/jquery-3.1.1.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/3.0.0/jquery-migrate.min.js'></script>
<script src='lib/sharedLib.js'></script>
<script src='lib/coordLib.js'></script>
<script src='lib/PitchLapCalc.js'></script>
</html>