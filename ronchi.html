<!DOCTYPE html>
<html lang='en'>
<head>
	<title>Ronchi Test Calculator</title>
	<meta content='Ronchi Test Calculator: match, null, tape band and grid tests' name='description'>
	<meta content='Mel Bartels' name='author'>
	<meta content='text/html; charset=utf-8' http-equiv='content-type'>
	<meta content='initial-scale=1' name='viewport'>
	<link rel='shortcut icon' href='Saucer32.ico'>
	<link rel='stylesheet' type='text/css' href='css/Ronchi.css'>
</head>
<body>

<div id='topDiv'>
	<h2 class='title'>Ronchi Test Calculator: match, null, tape band and grid tests</h2>
</div>

<div class='grid-container'>
	<div class='grid-item'> <a href='#roleOfTesting'>The role of testing</a>       </div>
	<div class='grid-item'> <a href='#about'>About</a>                             </div>
	<div class='grid-item'> <a href='#DrShermanSchultz'>Dr Sherman Schultz</a>	   </div>
	<div class='grid-item'>	<a href='#mirrorQuality'>Mirror quality</a>            </div>
	<div class='grid-item'>	<a href='#accuracy'>Ronchi accuracy</a>                </div>
	<div class='grid-item'>	<a href='#IFcomparison'>IF comparison</a>              </div>
	<div class='grid-item'>	<a href='#tester'>Tester</a>                           </div>
	<div class='grid-item'>	<a href='#instructions'>Instructions</a>               </div>
	<div class='grid-item'>	<a href='#null'>Software nulling</a>                   </div>
	<div class='grid-item'>	<a href='#RonchiTape'>Ronchi tape</a>                  </div>
	<div class='grid-item'>	<a href='#grid'>Grid testing</a>                       </div>
	<div class='grid-item'>	<a href='#parabolizing'>Parabolizing</a>               </div>
	<div class='grid-item'> <a href='#analysis'>Analysis</a>                       </div>
	<div class='grid-item'>	<a href='#diffractionEffects'>Diffraction effects</a>  </div>
	<div class='grid-item'>	<a href='#dynamicRonchi'>Dynamic Ronchi</a>            </div>
	<div class='grid-item'>	<a href='#atFocus'>At focus</a>	                       </div>
	<div class='grid-item'>	<a href='#pitfalls'>Pitfalls</a>                       </div>
	<div class='grid-item'>	<a href='#earlyExamples'>Early examples</a>              </div>
	<div class='grid-item'>	<a href='#math'>Math</a>                               </div>
</div>

<div class='floatLeftInputDiv'>
	<br>
	<b>Mirror diameter</b> = <input class='inputText' name='mirrorDia' value='12' onfocus='select()' type='text'>
	&emsp; <b>Radius of curvature (RoC)</b> = <input class='inputText' name='radiusOfCurvature' value='120' onfocus='select()' type='text'>
	<b>Focal length</b> = <input class='inputText' name='focalLength' value='60' onfocus='select()' type='text'>
	<b>Focal ratio</b> = <input class='inputText' name='focalRatio' value='5' onfocus='select()' type='text'>
	&emsp; Central obstruction = <input class='inputText' name='centralObstruction' value='2.6' onfocus='select()' type='text'>
	<br>
	<b>Grating freq.</b> (lines per unit of meas.) = <input class='inputText' name='gratingFreq' value='100' onfocus='select()' type='text'>
	&emsp; <b>Grating offset from RoC</b> = <input class='inputText' name='gratingOffset' value='-0.2' onfocus='select()' type='text'>
	or adjust
	<input id='btnDecreaseGratingOffset' value='-' type='button'>
	<input id='btnIncreaseGratingOffset' value='+' type='button'>
	<input id='sliderOffset' min='-1' max='1' step='0.002' type='range'/>
	&emsp; Parab. correction = <input class='inputText' name='userParabolicCorrection' value='1.0' onfocus='select()' type='number' step='0.1'>
	<input id='sliderParabolicCorrection' min='0' max='2' step='0.02' type='range'/>
	<p>
	Ronchigram size = <input class='inputText' name='RonchigramSize' value='400' onfocus='select()' type='text'>
	&emsp; Invert bands?
	<input name='invertBands' value='yes' type='radio'>yes
	<input name='invertBands' value='no' type='radio'>no
	&emsp; Band color (R,G,B) = <input class='inputTextLong' name='bandColorRGB' value='0,0,0' onfocus='select()' type='text'>
	&emsp; Bkgnd band color (R,G,B) = <input class='inputTextLong' name='backgroundBandColorRGB' value='255,255,255' onfocus='select()' type='text'>
	&emsp; App bkgnd color (R,G,B) = <input class='inputTextLong' name='backgroundColor' value='240,240,240' onfocus='select()' type='text'>
	<br>
	Ronchi grid?
	<input name='RonchiGrid' value='yes' type='radio'>yes
	<input name='RonchiGrid' value='no' type='radio'>no
	&emsp; Circular zonal rulers = <input class='inputText' name='circularZonalRulerCount' value='4' onfocus='select()' type='text'>
	&emsp; Ruler/Text color (R,G,B) = <input class='inputTextLong' name='rulerTextRGB' value='255,0,0' onfocus='select()' type='text'>
	<br>
	Null fill factor = <input class='inputText' name='distortionResolutionFactor' value='2' onfocus='select()' type='number' step='1'>
	&emsp; Nulled bullseye zones?
	<input name='showBullseyeZones' value='yes' type='radio'>yes
	<input name='showBullseyeZones' value='no' type='radio'>no
	&emsp; <b>Thin nulled Ronchi bands?
	<input name='thinBands' value='yes' type='radio'>yes
	<input name='thinBands' value='no' type='radio'>no</b>
	<p>
	Save and get data to local storage
	<input id='btnPutData' value='Save data with name: ' type='button'>
	<input class='inputText' name='dataName' value='My data' onfocus='select()' type='text'>
	<input id='btnGetData' value='Get data' type='button'>
	&emsp; <input id='btnShowDataNames' value='Show saved data names' type='button'>
	<input id='btnDeleteData' value='Delete saved data' type='button'>
	<br>
	Show pasted image?
	<input name='pastedImageActive' value='yes' type='radio'>yes
	<input name='pastedImageActive' value='no' type='radio'>no
	&emsp; <input id='btnDeletedPastedImage' value='Delete pasted image' type='button'>
	&emsp; transparency <input class='inputText' id='pastedImageTransparency' value='0.9' onfocus='select()' type='number' step='.02' min='0.0' max='1.0'>
	width <input class='inputText' id='pastedImageWidth' value='400' onfocus='select()' type='number' step='1' min='1'>
	height <input class='inputText' id='pastedImageHeight' value='400' onfocus='select()' type='number' step='1' min='1'>
	x offset <input class='inputText' id='pastedImageOffsetX' value='0' onfocus='select()' type='number' step='1'>
	y offset <input class='inputText' id='pastedImageOffsetY' value='0' onfocus='select()' type='number' step='1'>
	name <input class='inputTextLong' id='pastedImageName' value='' onfocus='select()'>
</div>

<div class='floatLeftExampleDiv'>
	<br>
	<b>My 13.2 inch F3.0 mirror</b>
	<br>
	<input id='btnPasteExampleRonchigram13Inside'  value='inside RoC'  type='button' class='exBtn'>
	<input id='btnPasteExampleRonchigram13Inside2' value='thinned'     type='button' class='exBtn'>
	<input id='btnPasteExampleRonchigram13Outside' value='outside RoC' type='button' class='exBtn'>
	<input id='btnPasteExampleRonchigramGrid'      value='grid '       type='button' class='exBtn'>
	<p>
	<b>12 inch F5 1/5th w.f. study</b>
	<br>
	<input id='btnPasteExampleRonchigram12F5Under' value='inside RoC' type='button' class='exBtn'>
	<input id='btnPasteExampleRonchigram12F5Under2' value='thinned' type='button' class='exBtn'>
</div>

<div class='clearFloat'></div>

<div id='Ronchigrams' class='floatLeftRonchigramsDiv'> <!-- canvases added in JavaScript --> </div>

<div id='zonalErrorsTableDiv' class='zonalErrorsTableDiv'>
	<b>Zonal slope errors: manual manipulation of zones</b>
	<p>
	<input id='btnSortZonalCorrectionTableByZone' value='Sort zones' type='button'>
	&emsp; <input id='btnSaveCorrections' value='Save corrections' type='button'>
	<input id='btnRestoreCorrections' value='Restore corrections' type='button'>
	<br>
	<input id='btnCopyBands' value='Update zones to Ronchi bands' type='button'>
	<input id='btn10Zones' value='Set zones to 0.1 increment' type='button'>
	<br>
	<input id='btnResetCorrectionFactors' value='Reset corrections to 1' type='button'>
	<input id='btnResetCorrectionFactorsToParabCorrection' value='Reset corrections to parab. correction' type='button'>
	<br>
	<table id='zonalCorrectionTable'>
	<tbody id='zonalCorrectionTableBody'>
		<!-- zonal rows added in JavaScript -->
	</tbody>
	</table>
</div>

<div id='zonalErrorsViewDiv' class='zonalErrorsViewDiv'>
	<b>Zonal slope errors: side view</b>
	<p>
	<div id='zonesSideViewDiv'>
		<!-- canvas created in JavaScript -->
	</div>
	<p>Wavelength of light
	<input name='wavelengthLightUOM' value='imperial' type='radio'>imperial
	<input name='wavelengthLightUOM' value='metric' type='radio'>metric
	<br><label id='waveErrorsLabel'></label>
	<p><label id='zonalErrorsResultsLabel'></label>
</div>

<div class='clearFloat'></div>
<div id='waveNotes'></div>
<div id='tapeBandsDiv'> <!-- text added in JavaScript --> </div>

<div id='discussionDiv' class='discussionDiv'>
	<h4>Ronchigram notes</h4>
	<p>Positive grating offsets indicate that the grating is outside the RoC.
	<p>It is important to measure the clear diameter of the mirror and the RoC: accuracy is proportional to the mirror's clear diameter ^4 divided by the radius of curvature ^3.
	<p>To <b>match</b> bands, drag and drop your mirror's Ronchigram, or copy and paste it into the browser page (if necessary, open the image in a program then copy from there). To remove the image press the delete or escape key. Match by adjusting the grating offset.
	<p><b>Nulling</b> the left most Ronchigram removes parabolic distortion, straightening the bands. See <a href='#null'>nulling bands section</a>. Be sure to read the note when nulling outside of RoC.
	<p><b>Thinning</b> the software nulled Ronchigrams increases the precision.
	<p>The <b>grid</b> analyzes Ronchigrams made with a grid grating or a Hartmann mask across the mirror's face. See <a href='#grid'>grid testing section</a>.
</div>

<div id='zonalErrorsNotesDiv' class='zonalErrorsNotesDiv'>
	<h4>Zonal slope errors: notes</h4>
	<p>The center zone is zero and the edge zone is 1. Zones can be entered in any order.
	<p>The correction factor is the parabolic correction for the zone, ranging from 0 for spherical to 1 for full parabolic correction.
	<p>If a zone is undercorrected, then the zonal correction factor will have to be increased greater than 1 to straighten the bands in the user pasted Ronchigram. Similarly, if the mirror is overcorrected, then the zonal correction factor will have to be decreased below 1.
	<p>The M-L (Milles-Lacroix) tolerance ensures that the light rays geometrically pass through the Airy Disk. The weighted M-L tolerance is an overall area measurement.
	<p>For more, see <a href='ratemirrors.html' target='_blank'>Rating a Mirror</a> and <a href='NewtDesigner.html#diffractionAiryDisk' target='_blank'>Newtonian Telescope Designer, section on the Airy Disk</a>.
	<br>Also see my <a href='PitchLapCalc.html' target='_blank'>pitch lap calculator</a> for strokes and lap patterns to match with polishing down the relatively high zones of the mirror.
	<p>The Ronchi Calculator measures slopes, not surface profile. See <a href='JoyOfMirrorMaking/16 inch F3 meniscus mirror making class.html#zones' target='_blank'>my comments dealing with kinks and slopes</a>.
</div>

<div class='clearFloat'></div>

<div>
	<a name='roleOfTesting'></a>
	<h4>The role of testing</h4>

	<p>Testing verifies that our process is proceeding satisfactorily. Since amateur mirror making uses several processes, we use several tests. Starting from a smooth spherical mirror surface free of astigmatism, the mirror maker gradually changes the mirror's shape from spherical to parabolic by preferential polishing. The Matching Ronchi test helps the mirror maker continually monitor progress. Steady progress increases the chances of a quality result and builds confidence. The Ronchi tester is made from simple materials, is easy to understand and quickly executed, allowing the mirror maker to concentrate on the mirror. Here's <a href='#parabolizing' target='_blank'>how I integrate the Matching Ronchi into the parabolizing process</a>.

	<a name='about'></a>
	<h4>About the Ronchi test</h4>

	<p>Foucault mentions a grid test in 1857 that reminds me of the 2D Ronchi test. See an English translation at <a href='Foucault/LeonFoucaultArticle.html' target='_blank'>Foucault/LeonFoucaultArticle.html</a>.

	<p>The Ronchi test, discovered by Vasco Ronchi in 1923, is one of the most versatile and easy to use tests. It is an interferometer that can be used geometrically. There is a large body of literature about the Ronchi test. For a review, see Malacara's, 'Optical Shop Testing', second edition, chapter 9, 'Ronchi Test'. I use the test geometrically which measures the transverse aberration (the Foucault test measures longitudinal aberration).

	<p>There are a number of variants of the Ronchi test including my null Ronchi test, my Ronchi Grid test, my Ronchi Tape Band test, the Mosby, the Null Ronchi, the Ronchi Star Test, the Concentric Grid Ronchi, the Phase Shifting Ronchi Test, the Sideband Ronchi Test, the Lower Test, and the Ronchi-Hartmann tests. I'm convinced that there are variations on the Ronchi waiting to be discovered and characterized.

	<p>I've successfully figured dozens of superb mirrors over many years using the Ronchi Test with recent notable examples being
	<ul>
		<li>20 inch F5 (I used <a href='6000X.html' target='_blank'>6000X on one famous night of perfect seeing at the Oregon Star Party</a>),
		<li><a href='30/30 inch mirrors log.html' target='_blank'>twin 30 inch F2.7 mirrors</a>,
		<li><a href='JoyOfMirrorMaking/25 inch f2.6 mirror.html' target='_blank'>25 inch F2.6</a>,
		<li><a href='20/log.html' target='_blank'>20.25 inch F2.9 mirror</a>,
		<li><a href='16/16 inch log.html' target='_blank'>16.25 inch F2.9 mirror</a> and
		<li><a href='ZipDob/ZipDob.html' target='_blank'>13 inch F3.0</a>
		mirrors.
	</ul>

	<p>I have led mirror making classes using the Ronchi as the principal test. I had a 6 inch F4 checked with the Hartmann test. The surface was 1/20 wave peak to valley and the RMS was 1/60 wave.

	<p>History of my Ronchi Calculator:
	<ul>
		<li>1992 computerized Ronchigrams: compare next to the Ronchi tester
		<li>2018 Matching Ronchi, matching pasted Ronchigrams over the computed bands
		<li>2020 Ronchi tape band quick test
		<li>2023 Null and Grid tests
	</ul>

	<a name='DrShermanSchultz'></a>
	<h4>Dr. Sherman Schultz</h4>

	<p>One of the most successful practitioners was Dr. Sherman Schultz of Macalester College in St Paul Minnesota. He used the Ronchi test in his mirror making classes with countless students successfully completing their telescopes. <a href='http://digitalcommons.macalester.edu/cgi/viewcontent.cgi?article=1000&context=physics_oralhist' target='_blank'>
		Here's an interview with Dr Schultz.</a> See Telescope Making #9 for an article by Dr Schultz on the Ronchi test.

	<p>He lists the following advantages of the Ronchi test.
	<ol>
		<li>Ease of interpretation. Leads to confidence which leads to a better mirror surface. Getting mired down in numbers, spreadsheets and equipment adjustments isn't confidence inspiring.
		<li>His students made 275 mirrors. Not a single student gave up or quit. Testing can be the point of failure for telescope makers. But not with the Ronchi test.
		<li>The Ronchi test is sensitive enough to distinguish between excellent, good, fair and poor. Every little irregularity is seen. It doesn't matter if the error is 1/6 or 1/8 wave - you don't need to know the magnitude of the error. A drowning person doesn't need to know how deep the water is once he is in over his head. He just needs to know how to swim.
		<li>You work until the curves match. The curves are not a mysterious table of numbers or a grid of coefficients. You can see the perfect simulated curve; remember it in your mind's eye. Each mirror diameter and focal ratio combination along with the grating frequency has its own curve.
		<li>You can easily detect, better than any other test, the most common issue, that of turned edge. And the next most common issue, zonal roughness.
		<li>The student immediately recognizes the overall curve as compared to the sphere. The correct corrective action is quickly devised. There is no plotting of the mirror profile as reconstituted from zonal measurements, which by the way, misses issues between the arbitrarily designated zones.
		<li>The test image is bright. The Ronchi test can be used in an ordinarily lit room in daytime. It's easy to setup, easy to see, easy to understand.
	</ol>

	<h4>Dennis Rech's comments, inventor of the Mirror-O-Matic mirror grinding machine</h4>

	<p>'When someone asks me to look at their mirror, I have them send me the parameters of the mirror and then I use a Ronchi program to show them what the Ronchi pattern should look like. We then print out the pattern on my big printer at exact scale and tape it to the back of the mirror. We then trace the Ronchi lines onto the front of the mirror with a Sharpie and then test it. And then, within seconds they can see exactly what their mirror should look like compared to what it actually is. A spherical mirror shows straight lines and as the center is lowered towards a parabola, the lines bow outwards. The deeper the curve, the more the lines bow. When the bowed Ronchi lines exactly meet the Sharpie lines, we have a parabola. Lines not bowed enough, rub a little more. Lines too bowed, rub everything else a little more. Lines all wonky, rub only the zones with flat lines or go back and correct the sphere. It is fast, it is accurate and one sees the entire mirror surface, not just a line of a  couple of zones across the mirror. When Carl Zambuto first tried machine fabrication, he commented on the wonderful figure of revolution that comes from using a machine vs hand work. The Ronchi test shows this immediately, Foucault does not.'

	<p>Bob May's comments are at <a href='http://bobmay.astronomy.net/misc/ronchitester.htm' target='_blank'>http://bobmay.astronomy.net/misc/ronchitester.htm</a>.

	<a name='mirrorQuality'></a>
	<h4>Mirror quality</h4>

	<p>The Danjon-Couder standard states two conditions:<br>
		<ul>
			<li>The mirror's surface should be as smooth as possible, and
			<li>The overall peak to valley error on the mirror's surface should be a small fraction of the wavelength of light
		</ul>

	<p>I make mirrors to the best of my ability, regardless of how long it takes for two reasons:
	<ul>
		<li>Our bias that may judge a mirror better than it really is
		<li>I am keen to continually improve my mirror making technique
	</ul>

	<a name='accuracy'></a>
	<h4>Ronchi accuracy</h4>

	<p>With careful inspection using the Matching, Null, Tape Band and Grid tests, band locations for each zone can be determined to a small percent of the Ronchi band's width. Information is maximized and diffraction effects are minimized by selecting the grating frequency. This is good enough for our purposes: guiding our parabolization process while making a mirror, knowing that we conclude by adding the star test once snap focus at the eyepiece is achieved. Parabolize with the Matching Ronchi during the day, verify with the star test at night.

	<p>I think of it this way: The Ronchi tester is very simple: a ruled grid, a light source and a smartphone to take the Ronchigram. The mirror's information is there but difficult to get at. I use software to make the information available. Still, one has to inspect carefully. I consider this a reasonable trade-off. But accuracy is not enough. A test that is easy and quick to analyze lets us to mentally focus on the next corrective action enabling us to execute many sessions in a single evening.

	<p>Incidentally, a second test helps overcome the psychological tendency to optimistically overlook errors, hoping that our mirror will perform nicely. Seen from a different testing perspective, errors in the mirror are harder to ignore. Looking back, we can see them in the first testing method. Put another way, stand on a street corner, point up at the sky like you're spotting superman or superwoman. People ignore you - you're slightly wacko. Get a second person to join you, then a third. Now, people stop and ask what are you pointing at.

	<p>Here's a study of a 12 inch [30cm] F5, undercorrected to 1/5th wavefront.
	<p><img alt='' loading='lazy' src='JoyOfMirrorMaking/12F5 one-fifth wave undercorrected study.jpg' class=''>

	<p>Increasing the resolution of the Ronchigram allows small errors to be more easily seen. Match the software setting's Ronchigram resolution to the size of the Ronchigram taken by the camera. Be careful of the camera lens' distortion which can significantly alter the apparent parabolization. Here is the same study at a size of 800x800.
	<p><img alt='' loading='lazy' src='JoyOfMirrorMaking/higher resolution Ronchigrams discern finer errors.jpg' class=''>

	<a name='IFcomparison'></a>
	<h4>Comparing to interferometry</h4>

	<p>A friend who uses a Zygo interferometer at work sent me a Ronchigram of a commercial mass produced 12 inch [30cm] mirror. It was quite undercorrected. Using the matching tool above, I found that it was 0.6 wave undercorrected. After I communicated my results, he told me that the Zygo had found that the mirror had a spherical deviation of 3.7 waves when a fully corrected mirror should have a deviation of 4.3 waves. That is a difference of 0.6 waves, which matched my results. The first Ronchigram is the match to a perfect paraboloidal surface while the second Ronchigram is the match to the 0.6 wave undercorrected Ronchigram.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/Matching Ronchi results with error - MLB.jpg'>

	<a name='tester'></a>
	<h4>The tester</h4>

	<p>My trusty tester that I've used for countless mirrors over 40 years.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/Ronchi frontside.jpg'>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/Ronchi backside.jpg'>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/Ronchi tester back.jpg'>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/Ronchi tester layout.jpg'>

	<a name='instructions'></a>
	<h4>Instructions, how to use the Ronchi Calculator</h4>

	<p>See <a href='https://www.youtube.com/watch?v=nTmljQDs2d4' target='_blank'>my presentation</a> on using the Ronchi Calculator's matching, tape band and null tests.

	<p>Two steps:
	<ol>
		<li>Take the Ronchigram then prep the image.
		<li>Import the image into the Ronchi Calculator and analyze.
	</ol>

	<h5>Take the Ronchigram then prep the image</h5>

	<p>For the null Ronchigram matchup, set up inside the radius of curvature (RoC) such that the bands bow outward in the mirror's center. Aim for a few bands across the mirror's face. Fewer bands means greater sensitivity while more bands mean more coverage of the mirror's area from center to edge.

	<p>I use my smartphone to take the image through the my Ronchi tester. Try to center the Ronchigram by either placing a dark band or a bright band over the mirror's center. Precise centering is no longer necessary with the new null matching Ronchigram capability but it helps. Sometimes the phone picks up the grating just in front of the phone causing vertical striping. I ignore it. Smartphone cameras can distort the Ronchigram if it fills the camera view, is taken off-center, or the phone is tilted. So square-on the smartphone to the mirror when taking the Ronchigram.<br>
	   <img alt='' loading='lazy' src='JoyOfMirrorMaking/smartphone snap through Ronchi tester.jpg'>

	<p>I prep the image using a freeware image processing program like FastStone.
	<ol>
		<li>Rotate the image so that the bands are vertically aligned.
		<li>Crop the image top/bottom/left/right. I use masking tape stuck on the mirror's edges to clear up the diffraction that makes distinguishing the mirror's edges problematic. In fact, I can tell how fine of Ronchi grating by inspecting the diffraction. Otherwise adjust the left/right crop to match the top/bottom crop, forming a square.
		<li>Resize to a comfortable number for the Ronchi Calculator. I like 400x400.
		<li>Copy to the clipboard.
	</ol>

	<h5>Import the image into the Ronchi Calculator and analyze</h5>

	<p>Set up the Ronchi Calculator for your mirror. The calculator needs you to select a unit of measurement, say inches or millimeters, then enter the mirror's diameter and grating frequency in those unit of measurements. The calculator also needs the focal ratio (or focal length or radius of curvature) to know how to computer the parabolic curves. The grating offset of your Ronchi tester is also needed.

	<ol>
		<li>Enter the mirror diameter.
		<li>Enter the radius of curvature, or the focal length or the focal ratio.
		<li>Enter the Ronchi grating frequency. Be aware that some manufacturers double count the lines. If any doubt, use a magnifying lens and count the lines. The software expects you to enter the number of dark bands per unit of measurement. If 100 is entered, then you should count 100 dark bars and 100 light bars in your unit of measurement (inches, millimeters).
		<li>Enter a single grating offset, eg, -0.2 for inside RoC or 0.5 for outside RoC. We'll adjust this later.
		<li>Enter the Ronchigram size you set when prepping the image.
		<li>Turn on 'Nulled ruler?'.
		<li>For convenience, once you've entered these values you can save them for future use.
		<li>Paste the image into the Ronchi calculator.
		<li>Adjust the matching. Be prepared to turn on 'Invert bands?' if this makes it easier to see the bands. Looking at the null Ronchigram match, use the Grating offset adjustment slider to do two things at once:
		<li>Make the bands as straight as possible while fitting the bands within the red ruler.
		<li>If the Ronchigram was not perfectly centered on the bands as this Ronchigram from 1975, then adjust using the 'x offset'.
			<img alt='' loading='lazy' src='JoyOfMirrorMaking/centering unwrap Ronchigram.jpg' class=''>
	</ol>

	<p>If the bands are perfectly straight and fit perfectly within the red ruler marks, then you are done! This will not be the case though until the mirror is finished. What will be apparent is a bowing of the bands. Start analyzing by adjusting the 'Parab. correction =' value. If the bands bow outward in the center then the mirror is overcorrected. If the bands bow inward towards the center then the mirror is undercorrected. The goal is to make the bands straight by adjusting the parabolic correction. Note that you may have to adjust the grating offset during this process to keep the bands centered with respect to the red ruler markings.

	<p>By noting any turned edge and degree of parabolic correction, you will often know what needs to be done to the mirror. For how to accomplish the polishing action, see my <a href='JoyOfMirrorMaking/Parabolizing.html' target='_blank'>parabolizing webpage</a>.

	<p>A study of my 16.25 x 3/8 inch [410x10mm] meniscus mirror. You can see that by selecting a grating offset inside the radius of curvature with a moderate number of bands, the standard Ronchigram shows good sensitivity towards the center of the mirror while the nulled Ronchigram shows good sensitivity at the mirror's edge. I am able to see grating tilt, smartphone tilt, mirror test stand and other issues more easily. The artifacts making the bands look rough are from the grating lines bleeding through the smartphone's image.

	<p>To use the zonal errors table, adjust the individual zonal corrections to best straighten the bands appearing in the Ronchigrams. Verify your zonal corrections by turning the zones on and off by selecting/deselecting the 'Use?' checkboxes. The results will appear in the Mirror Zonal Errors Profile graph.

	<p>Here's an example using the Zonal errors correction table to judge my <a href='JoyOfMirrorMaking/25 MSP analysis.jpg' target='_blank'>finished 25 inch [64cm] F2.6 mirror</a>.

	<a name='null'></a>
	<h4>Nulling a Ronchigram</h4>

	<p>Nulling a Ronchigram removes the parabolic distortion, returning the bands to their straight and vertical appearance.

	<p>Note that nulled Ronchigram uses the zonal error table, consequently the calculated Ronchi bands are always nulled straight: whatever zonal errors that cause the first Ronchigram's calculated bands to distort from ideal are also used to null, removing the zonal error corrections from the calculated Ronchi bands. The pasted image is also nulled per the zonal correction table, resulting in the image's bands changing. I think of it this way: the standard Ronchigram does not distort the pasted image but the computed Ronchi bands do follow the zonal error table, allowing the bands to be matched to each other. The Mirror Zonal Errors Profile and wave error is computed from the zonal error table. Changes to the zonal error table alters the nulled image's bands straightness, the goal being to make the pasted image bands as straight as possible.

	<p>To make the nulled pasted image bands as straight as possible, if the mirror is undercorrected, then then zonal error will need to be overcorrected, that is, above 1. Similarly for an overcorrected mirror, then zonal error will need to be undercorrected, below 1.

	<p>Avoid nulling Ronchigrams with loops: the nulling loops back on itself. Use Ronchigrams with more, not less, bands.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\avoid looping while unwrapping.jpg' class='bigImage'>

	<p>If nulling loops cannot be avoided then use the control, 'Show bullseye zones?', to show the portion of the bullseye that is otherwise hidden. Each bullseye is a zone that circles a point representing the radius of curvature of the bulleye's center. Nulling the bullseye into a bar means that one half of the bullseye will be nulled onto the other half.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\bullseye.jpg' class='bigImage'>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\bullseye 25F2.6 example.jpg' class='bigImage'>

	<p>And if nulled pixels show up, increase the 'null fill factor' number.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\increase unwrap fill factor to fill in pixels.jpg' class='bigImage'>

	<a name='RonchiTape'></a>
	<h4>The Matching Ronchi tape band variant</h4>

	<p>One can print out the Matching Ronchi image to scale and place it behind the mirror. Barring that, I invented a variant of the Matching Ronchi test while parabolizing twin 30 inch [76cm] F2.7 thin meniscus mirrors. I used it successfully on my 16.25 inch [41cm] F2.9 thin meniscus mirror.

	<p>Construct a tape that stretches across the mirror with marks indicating where the Ronchi bands cross very useful. The exact distances to the marks are given in the output data above. I can quickly see minute differences without resorting to taking a Ronchigram with my camera then matching up using the webclient software.<br>
		<img alt='' loading='lazy' src='30\Matching Ronchi tape.jpg' class='bigImage'>

	<p>How good should the match be? Here are two images of the 30 inch F2.7 'B' mirror in progress. The first is early on. You can see that the mirror is short of full parabolization. The second is during the star testing phase showing a good match.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\Ronchi tape band analysis.jpg' class=''>
		<img alt='' loading='lazy' src='30\last B match Ronchigram only.jpg' class=''>

	<p>If a band is 'off' from its mark, the tester can be moved laterally, centering the band on the tape mark, noting the difference in thousands of an inch, e.g., by measuring the change angle of the turn of a threaded rod with knob and pointer. This zonal radius of curvature difference can be entered into the standard Foucault zonal measurements spreadsheet to calculate the wavefront error. Using this method, I found, at one point in parabolizing the 30 inch [76cm] F2.7 thin meniscus mirrors that the wavefront peak-valley error was 0.2 waves with the greatest deviation near the 80% zone. I then compared this result to the error portion of the Matching Ronchi test and found the best match Ronchigram to have an error of 0.2 waves at the 70% zone. This method is not intended to give rigorous wavefront ratings but instead to give an order of magnitude feeling to the error at hand.

	<p>Note that by convention, the band is colored on the mirror's face when the light ray passes through the grating. As a user I want to see the Ronchi Tape marks on the colored bands, which is logically inverted.

	<p>This test reminds of the Poor Man's Caustic test. Note that marking the edge of the mirror with the tape band improves Matching Ronchi results. Ronchigrams suffer from multiple edges (which, interestingly, can be used to deduce the lines per inch of the grating).

	<a name='grid'></a>
	<h4>The grid test</h4>

	<p>Wouldn't it be easier to judge and measure if the bands could be straightened out? The Matching Ronchi null can be used as a full surface rectilinear grid test. Either make a grid Ronchi grating using it at the radius of curvature, or use a Hartmann mask over the mirror (the latter requires a pinpoint light source, for example, a laser with the lens removed and operated at less than lasing voltage). The Matching Ronchi grid software nulls the parabolically distorted image into a grid for easy inspection and measuring.

	<p>Turn on the Ronchi grid option so that the test can be used for 2-D full mirror testing.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\grid unwrap.jpg' class=''>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\grid unwrap 25-50-75 zones.jpg' class=''>

	<p>This Ronchigram grid shows the potential for the nulled grid version of the Matching Ronchi. A software version of the Ronchi-Hartmann 2D test? Here I crossed two gratings, attaching them to my Ronchi tester.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\13 inch double Ronchi match.jpg' class='bigImage'>

	<p>Two Matching Ronchigram Grid tests of my 25 inch [64cm] F2.6 mirror. The first while parabolizing was underway, the second when finished. Here I synthesized the grids by taking Ronchigrams vertically and horizontally, then combining them.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking\25F2.6 MRGs.jpg' class='bigImage'>

	<a name='parabolizing'></a>
	<h4>The Ronchi as part of the parabolizing process</h4>

	<p>Imagine taking a 2x6, measuring twice then cutting it on the chop saw. You take the stud and nail it in then move on to the next stud. Parabolizing a mirror is far more complex. So we break parabolizing down into a series of sessions. We also need to decide on a parabolizing strategy. We test the mirror each session, judging how the session went, what we will do next, and indeed, evaluating how our parabolizing strategy is proceeding.

	<p>We need to test for:
	<ul>
		<li>Overall macro or large scale smoothness and lack of roughness. The Ronchi is ideal because we can see the entire surface at once.
		<li>Zonal scale smoothness (kinks and zigzags). The Ronchi is ideal because we can see a kink or zigzag anywhere on the mirror surface.
		<li>Turned edge. The Ronchi is very good at the edge, especially using masking tape to calm interference effects.
		<li>Astigmatism and various distortions (mirror, test stand, tester, eye, camera). Here we need the 2D Ronchi grid or equivalent.
		<li>Fit to ideal paraboloidal curve. The Matching Ronchi and Ronchi Tape Band can easily and without confusion, get us very close. Then finish and verify with the star test or the Bath IF.
	</ul>

	<p>My parabolizing process:

	<ul>
		<li>Setting the stage:
			<ul>
				<li>Smooth out Ronchi bands, making mirror spherical, removing TDE.
			</ul>
		<li>Make test stand:
			<ul>
				<li>Check for astigmatism: rework test stand until none. No need to check again until the star test because I rely on my process to avoid astigmatism in the mirror.
			</ul>
		<li>Select a parabolizing strategy:
			<ul>
				<li><a href='JoyOfMirrorMaking/Parabolizing.html#parabStrategies' target='_blank'> Here's a list</a>.
			</ul>
		<li>Begin parabolizing:
			<ul>
				<li>Initially set the parabolic correction to 25% or 50%. Use the Ronchi to check overall smoothness. Use the Ronchi Tape Band to guide parabolizing. You can make bands for 25%, 50%, and 100% parabolic correction.
			</ul>
		<li>Continue parabolizing:
			<ul>
				<li>Up the parabolic correction to 100%. Continue using the Ronchi Tape Band test. Occasionally use the Matching Ronchi test as desired. Shorten parabolizing sessions.
				<br>For example, my 20.25 inch [51cm] x 3/4 inch thick [19mm] F2.9 meniscus mirror, where I smoothly parabolized it. Note the increasing parabolic correction from 0.4 to 1.0.
				<br><img alt='' loading='lazy' src='20/parabolization progress showing that the zones are proportionally parabolized at each stage.jpg' class=''>
			</ul>
		<li>Mirror passes the snap focus star test:
			<ul>
				<li>Once the bands match the tape and the mirror is smooth, verify that the mirror passes the snap focus test. Use the star test to check all errors from 'stig to overall parabolic correction to zones. No surprises after the mirror is coated and installed in the telescope.
			</ul>
		<li>Finish parabolizing mirror:
			<ul>
				<li>Continue until the star test looks as good as possible: I've hit the limit of my ability to parabolize.
			</ul>
	</ul>

	<p>For parabolizing, I use an iterative process:
	<ul>
		<li>Formulate a figuring action. Select best fit grating offset based on:
			<ul>
				<li>Minimizing overcorrected zones.
				<li>Maximizing chance of success to polish the undercorrected zones.
				<li>Least change to the pitch lap.
			</ul>
		<li>Execute the action for the minimum time for a detectable change in the mirror’s figure (20 seconds to 2 minutes).
		<li>Quickly test to see if the mirror’s figure is changing in the desired direction. The Ronchi Tape Band test is ideal, the Matching Ronchi best if the changes are very small.
		<li>If so then continue on with the figuring action to its conclusion.
	</ul>

	<p>The Ronchi Tape Band is very direct: when the band falls short, polish more. That's it, don't need to know or care about anything else. And we only perform the 2 axis stig test to qualify our test stand at the start of parabolizing.

	<p>I concentrate on deviations from the ideal paraboloid, not worrying about a deviation’s hard numerical value, which would be the case if I were making the mirror to an explicit numerical rating.

	<p>The better the mirror maker, the better the process and the more the process can be counted to preclude mirror defects and deliver a good mirror. The zonal Foucault test used with a good process that suppresses astigmatism has been used for centuries to make unimpeachable mirrors. Neophyte mirror makers struggle with testing and figuring because they have not yet developed a parabolizing process. I advise obtaining the advice of a master mirror maker to establish a process - key to success.

	<p>See my pages on polishing and parabolizing mirrors where I discuss how to use the Ronchi test during figuring.<br>
		<a href='JoyOfMirrorMaking/Polishing.html' target='_blank'>Polishing</a><br>
		<a href='JoyOfMirrorMaking/Parabolizing.html' target='_blank'>Parabolizing</a><br>
		<a href='JoyOfMirrorMaking/16 inch F3 meniscus mirror making class.html' target='_blank'>Class notes for the 16F3 master meniscus mirror making class</a><br>

	<a name='analysis'></a>
	<h4>Analysis</h4>

	<p>I use the Ronchi test in two positions: inside and outside the radius of curvature. I also use the Ronchi test dynamically, sliding the tester back and forth. This can reveal subtle issues.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/Ronchi tester positions.jpg'>

	<p>For a parabolized mirror when inside the radius of curvature the tester is closest to the mirror's center zones and furthest from the mirror's edge zones. And when outside the radius of curvature the situation is reversed: the tester is closest to the mirror's edge zones and furthest from the mirror's center zones.

	<p>Here's a favorite visualization of mine. The paraboloidal mirror is concave at the radius of curvature by virtue of lowering the center (or equivalently lengthening the edge). A grating placed inside the radius of curvature will see the center closest, the edge farthest. Since the bands expand closer in and shrink further out, the bands will appear fattened in the center and tapered at the edge. A grating placed outside the radius of curvature sees the center farthest and the edge closest, resulting in the bands appearing thinner in the middle and spread out at the edge.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/Ronchigrams with parabola.jpg'>

	<p>Fewer bands are more discriminating. For example, inside radius of curvature expands the bands across the mirror's face, and are more sensitive to errors in the mirror's central zones.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/10.5 inch final Ronchigram inside RoC.jpg' class='smallImage'><br>
	Outside radius of curvature expands the bands at the mirror's edge and are more sensitive to errors in the mirror's outer zones.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/10.5 inch final Ronchigram outside RoC.jpg' class='smallImage'>

	<p>A glance reveals the overall shape and gross errors of the mirror's surface, e.g., is the edge turned? Here's a quick comparison image showing a turned down edge in a 6 inch [15cm] mirror (be wary of diffraction effects at the edge; if necessary mask off a portion of the edge using blue masking tape).<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/6 inch session q.jpg' class='smallImage'><br>
	Here's a side by side comparison revealing an overparabolized 70% zone in a 6 inch [15cm] F2.8 in the midst of parabolizing:<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/6 inch session l 1.jpg' class='smallImage'>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/6 inch target Ronchigram inside RoC.jpg' class='smallImage'><br>
	In contrast a mirror where the star test is essentially perfect, a 10.5 inch [27cm] F2.7:<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/10.5 inch overlay with computer generated Ronchigram inside RoC.jpg' class='smallImage'>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/10.5 inch overlay with computer generated Ronchigram outside RoC.jpg' class='smallImage'>

	<p>To get the radius of curvature, measure from the mirror's center to the ruled side of the grating.

	<p>I like a grating of about 100 lines per inch [4 lines per millimeter]. Smaller slower mirrors can profit from a finer grating and large very fast mirrors from a coarser rating.

	<p>The Ronchi test can also be used far away from the radius of curvature. Here, any kinks in the bands will show as ragged bands or interference effects. The first example shows rough zones towards the edge; the second example shows smooth bands.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/far from RoC showing not so smooth edge zones.jpg'>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/far from RoC smooth bands.jpg'>

	<h4>Testing for astigmatism</h4>

	<p>The Ronchi test can be used to detect astigmatism. When the mirror is spherical, position the grating so that a single band appears. Now slowly move the grating back and forth. Any 'S' shape is astigmatism - could be in the mirror, could be in the test stand, could be in the tester, could even be a thermal gradient. If a 'S' is seen, try re-seating the mirror. The single Ronchi band should appear consistent - rather hard to achieve for thinner mirrors with mirror cell issues. Finally, rotate the mirror 45 degrees to the left and repeat, then rotate the mirror 45 degrees to the right and repeat.

	<a name='diffractionEffects'></a>
	<h4>Diffraction effects</h4>

	<p>In some situations diffraction effects can be annoying, even obscuring results. You can<br>
		<ul>
			<li>Find a grating that suppresses the diffraction effects.
			<li>Use the grating at a Talbot position.
			<li>Study the diffraction pattern itself, which can reveal subtle zones.
		</ul>

	<a name='dynamicRonchi'></a>
	<h4>The dynamic Ronchi</h4>

	<p>It can be quite revealing to dynamically move the grating back and forth. Small discontinuities that can hardly be seen in the static Ronchigram reveal themselves. Astigmatism in the form of the bands twisting is seen. Be careful: the astigmatism might be in the mirror, it might be in the test stand, it might be in the air between the mirror and the tester, it might be in the grating and it might be caused by tester mis-alignment. Finally, I've seen cases where the astigmatism is caused by eyeglasses and the tester's eye; even a camera lens' distortion cause trouble. Rotate the mirror by 60 degrees and see if the twist changes (be sure to reposition the mirror back in the original orientation to reveal if the mirror is being placed on the test stand inconsistently).

	<a name='atFocus'></a>
	<h4>The Ronchi test at the focuser</h4>

	<p>The Ronchi test can be used at the telescope's focus. As such it measures the entire optical system including all optics, thermal issues and seeing conditions. This test is commonly thought to be rather crude, in that any deviation from straight bands means a significant error. Used casually such a test ferrets out poor quality mirrors that have trouble with critical high magnification planetary and lunar viewing. At focus the test is half as sensitive as at the radius of curvature or at focus with an auto-collimating flat in the shop. But under the hypothesis that it is the optician that makes the mirror, not the test, can the Ronchi test at focus be used more critically?

	<p>It is possible to extract critical information using a quality grating of greater than 100 lines per inch (lpi) [4 lines per millimeter] under good seeing conditions and thermally stabilized optics if the grating is slowly racked back and forth focus where one to three bands cross the illuminated disc. It is critical that the tester have experience judging how the Ronchi bands change dynamically. With care defects to 1/10 wavefront are detectable.

	<a name='pitfalls'></a>
	<h4>Pitfalls</h4>

	<ul>
		<li>Comparing the mirror's Ronchigram with the computer generated Ronchigram by looking back and forth. This will not work the way you think it will: it is too inaccurate. Experienced amateurs with trained eyes might make this work in certain circumstances. Using the Matching Ronchi Tape band or copying and pasting into the Matching Ronchi software is easy and accurate. Though of course, the bands' smoothness can be judged in isolation.
		<li>Not judging the mirror Ronchigram's bands critically. The bands must fit exactly within the computer generated bands. See examples below for the visual exactness required.
		<li>Not knowing the grating's frequency (lines per inch) or the mirror's exact radius of curvature or its clear aperture to a tenth of an inch [2-3mm]. Be careful how the grating is measured: occasionally the manufacturer will count both opaque and transparent lines.
		<li>Using too coarse or too fine of grating. For most mirrors a 100 LPI is very good; for smaller slower mirrors a 133 LPI is better; for larger faster mirrors a 65-85 LPI is better.
		<li>Ronchigrams need to be sharp with good contrast, centered, rotated vertically and cropped.
		<li>Not pairing the Matching Ronchi test with another test that is sensitive to overall correction, like the star test or Hartmann test or Bath IF.
		<li>Not grokking that the Matching Ronchi is best used as an integral part of the parabolizing process.
		<li>Using a pinpoint light source. The Ronchi test works better with a diffuse light source: the return is brighter and easily located.
		<li>Testing at the telescope's focus in place of the eyepiece is half as sensitive as testing at the radius of curvature. Detecting any curvature at focus means a poor mirror.
	</ul>

	<a name='earlyExamples'></a>
	<h4>Early examples</h4>

	<p>My first 16 inch [41cm] F5.5 porthole plate glass mirror ~1980. I eyeballed the curves from a printout of my early DOS program.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/16 inch f5.5 100 lpi MR my1st plate glass mirror.jpg'>

	<p>Here's a 12.5 inch [32cm] F3.9 mirror made by Jerry Oltion. It gives a perfect star test with the slightest hint of a narrow turned edge (note the extremely narrow glowing ring at the top of the Ronchigrams). Jerry is using the old DOS version of my Ronchigram software.<br>
		<img alt='' loading='lazy' src='JoyOfMirrorMaking/Jerry 12.5 inch Ronchigrams Nov 2015.jpg'>

	<a name='math'></a>
	<h4>Ronchi math</h4>

	<p>Ronchi math is all about calculating which light rays make it through the grating.

	<p>I use an algorithm that starts with the mirror, since this is where the Ronchi bands appear to rest upon. The Ronchigram is displayed with a particular size using pixels. Taking each pixel in turn (the x, y location of the pixel measured from the mirror's center) that lies within the mirror's perimeter, I calculate the mirror's zone for the pixel then that zone's radius of curvature. This gives me a triangle. I look at the grating's offset from the zonal radius of curvature and using similar triangles, determine if the light ray coming from the mirror makes it past the grating. Grating positions behind the zonal radius of curvature result in the same triangle. By convention, if the light ray makes it through, then its pixel on the mirror's face is marked. The data array of mirror pixels (x, y, visible or not) is then easily manipulated, eg, to invert the bands, to calculate the band's center, or to create a Ronchi-Hartmann like grid. Also, the zonal radius of curvature can be changed per the parabolic correction desired and further by the zonal error correction set by the user. One quadrant of the mirror is calculated, then applied to the other three quadrants.

	<p>Since the zonal radius of curvature depends on the mirror's zone, the triangles for each zone have differing angles. Consequently, determining the mirror's zone from the grating results in a complex cubic equation that is computationally expensive. Not to mention that working from the grating to the mirror will leave gaps on the mirror's face to be filled in by interpolation.

	<p>The equation determining the light ray's height at the grating is (RoC = radius of curvature) (light source moves with grating):

	<p>xAtGrating = abs((RoC + gratingOffset * 2 - zonalRoC) * x / zonalRoC) where zonalRoC = RoC + (x * x + y * y)^2 / RoC
	<br>xAtGrating = abs((RoC + gatingOffset * 2 - RoC + (x * x + y * y)^2 / RoC) * x / (RoC + (x * x + y * y)^2 / RoC))

	<p>Refactoring this extensively in order to solve for the pixel's 'x' location leads to this complex cubic equation:

	<p>x^3 - x^2 * xAtGrating + x * (-RoC * gatingOffset * 2 - y^2) - RoC^2 * xAtGrating * (y^2 + 1) = 0

	<p>If y=0, then simplifies to x^3 - x^2 * xAtGrating + x * (-RoC * gatingOffset * 2) - (RoC^2 * xAtGrating) = 0

	<p><img alt='' loading='lazy' src='JoyOfMirrorMaking\Ronchi math.jpg' class='bigImage'>

	<h5>Mirror Zonal Errors Profile math</h5>

	<p>The radius of curvature for each zone is calculated along with the sphere to parabola deviation in waves at focus (the wavefront). The ideal RoC offset is compared to the user input zonal error corrections. For example, if the user sets the parabolic correction to zero, then the wave error is the full sphere to parabola deviation for that zone.

	<p><img alt='' loading='lazy' src='JoyOfMirrorMaking\Ronchi math zones and errors in waves.jpg' class='bigImage'>

	<h5>Nulling the Ronchigram</h5>

	<p>Nulling the Ronchigram means removing the parabolic distortion. Straight vertical evenly spaced bands indicate a paraboloidal mirror surface. Software nulling turns the Matching Ronchi into a version of a null test with straight bands (without the doubled sensitivity of a null test).

	<p>To start, we compare the ray height at the grating for parabolic and spherical surfaces to get the distortion ratio. We then apply the distortion ratio to the original image's x,y pixels shifting the pixels by the distortion ratio. If inside RoC, then the pixels are shifted inward.

	<p>The spherical surface has a constant factor of gratingOffset * 2 across all zones, resulting in straight bands. Whereas the paraboloidal surface factor is:

	<p>(RoC + gratingOffset * 2 - zonalRoC) * zoneLocationOnMirrorSurface / zonalRoC
	<br>where zonalRoC = RoC + mirrorZone^2 / RoC.

	<p>Parabolic distortion then = paraboloidal factor / spherical factor. These values are saved for all x,y in a quadrant of the Ronchigram.

	<p>For example, the default Ronchi tape bands fall on the 0, 2.62, 4.34, 5.54 mirror zones. That's 0, 0.4366666666666667, 0.7233333333333333, 0.9233333333333333 relative to the mirror's radius.

	<p>The default Ronchigram display display size is 250x250 or 125 for the radius. The bands then fall on the 'x's: 0, 54, 90, 115. These are parabolic or warped x's as they appear in the first Ronchigram.

	<p>The Distortions for the bands are: NaN, 1.1394363845604456, 1.3870024448314904, 1.6313480674892065 and when divided by the maxDistortion of 1.733782617356102 for the Ronchigram overall, are: NaN, 0.6571967980034353, 0.7999863598509095, 0.9409184583802662.

	<p>The nulled or undistorted 'x's: 0, 54, 90, 115 then become: 0, 35, 71, 108.

	<p>The original Ronchigram + pasted image's pixels at x's of (0, 54, 90, 115) are pasted to x's of (0, 35, 71, 108) in the new nulled Ronchigram. Here, in this example, the 'y' axis is set to zero.

	<p>This is done for each x,y value in the distortion data array; to fill in otherwise missing pixels, the distortion data array is enlarged by the 'null fill factor'.

	<p>Here are two plots of the parabolic distortion of the default first Ronchigram where 'y=0' is across the mirror's center and 'y=62' is halfway towards the top edge:<br>
	<img alt='' loading='lazy' src='JoyOfMirrorMaking\parabolic distortion spreadsheet.jpg' class='bigImage'>

	<h5>Other Ronchi math</h5>

	<p>An article on the Mosby Null test including some Ronchi math can be found at <a href='http://bobmay.astronomy.net/misc/mosby.htm' target='_blank'>http://bobmay.astronomy.net/misc/mosby.htm</a>.

	<h4>by Mel Bartels, 1992; last update 22-April-2024</h4>
	<br>
	<br>
</div>

<script src='lib/jquery/jquery-3.1.1.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/3.0.0/jquery-migrate.min.js'></script>
<script src='lib/sharedLib.js'></script>
<script src='lib/coordLib.js'></script>
<script src='lib/calcLib.js'></script>
<script src='lib/images/base64images.js'></script>
<!-- load last as it refers to the above files -->
<script src='lib/Ronchi.js'></script>
</body>
</html>
